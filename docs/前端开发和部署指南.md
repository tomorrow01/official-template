# 前端展示网站开发和部署指南

## 目录
1. [项目概述](#1-项目概述)
2. [技术栈](#2-技术栈)
3. [环境要求](#3-环境要求)
4. [项目结构](#4-项目结构)
5. [开发流程](#5-开发流程)
6. [构建和部署](#6-构建和部署)
7. [主要功能模块开发指南](#7-主要功能模块开发指南)
8. [API调用规范](#8-api调用规范)
9. [性能优化建议](#9-性能优化建议)
10. [常见问题及解决方案](#10-常见问题及解决方案)
11. [开发最佳实践](#11-开发最佳实践)
12. [总结](#12-总结)

---

## 1. 项目概述

前端展示网站是基于Nuxt.js 3和Vue.js 3构建的响应式单页应用，用于展示官网内容，包括首页、关于我们、服务内容等页面。项目采用TypeScript确保类型安全，使用Element Plus作为UI组件库，通过Axios与后端API进行交互。

## 2. 技术栈

| 技术/框架    | 版本        | 用途                          |
|------------|------------|------------------------------|
| Nuxt.js    | 3.x        | 服务端渲染和静态生成框架        |
| Vue.js     | 3.x        | 渐进式JavaScript框架          |
| TypeScript | 5.x        | 静态类型检查                  |
| Element Plus | -        | UI组件库                     |
| Axios      | -          | HTTP客户端，处理API请求       |
| Vite       | -          | 前端构建工具                  |

## 3. 环境要求

### 3.1 必备环境

- Node.js (v16.x 或更高版本)
- npm (v8.x 或更高版本) 或 yarn
- Git

### 3.2 推荐工具

- Visual Studio Code
- Vue Language Features (Volar)
- ESLint
- Prettier

## 4. 项目结构

```
frontend/
├── api/                  # API请求相关文件
│   ├── articles.ts       # 文章相关API
│   ├── banner.ts         # 轮播图相关API
│   ├── cases.ts          # 案例相关API
│   ├── config.ts         # API配置
│   ├── request.ts        # 请求封装
│   └── services.ts       # 服务相关API
├── assets/               # 静态资源
│   └── css/              # 样式文件
├── components/           # Vue组件
│   ├── Banner.vue        # 轮播图组件
│   ├── Footer.vue        # 页脚组件
│   └── Navbar.vue        # 导航栏组件
├── composables/          # 组合式函数
├── pages/                # 页面组件
│   ├── about.vue         # 关于页面
│   ├── index.vue         # 首页
│   └── services.vue      # 服务页面
├── public/               # 公共静态资源
├── server/               # 服务器相关文件
├── stores/               # 状态管理
├── app.vue               # 根组件
└── nuxt.config.ts        # Nuxt配置文件
```

## 5. 开发流程

### 5.1 克隆项目

```bash
# 克隆仓库
cd /Users/xuyumei/code/project/official-template
# 进入前端目录
cd frontend
```

### 5.2 安装依赖

使用npm安装依赖：

```bash
npm install
```

或使用yarn：

```bash
yarn install
```

### 5.3 配置环境变量

创建或编辑`.env`文件，配置必要的环境变量：

```env
# API基础URL
API_BASE_URL=http://localhost:3001

# JWT密钥（用于认证，可选）
JWT_SECRET=your_jwt_secret_key
```

### 5.4 启动开发服务器

```bash
npm run dev
```

或使用yarn：

```bash
yarn dev
```

开发服务器将在 http://localhost:3000 启动。您可以在浏览器中访问该地址查看项目运行情况。

### 5.5 代码开发

#### 创建新页面

在`pages`目录下创建新的Vue文件，Nuxt.js会自动生成对应的路由。

例如，创建一个新的联系我们页面：

```vue
<!-- pages/contact.vue -->
<template>
  <div class="contact-page">
    <h1>联系我们</h1>
    <!-- 页面内容 -->
  </div>
</template>

<script setup lang="ts">
// 组件逻辑
</script>

<style scoped>
.contact-page {
  padding: 2rem;
}
</style>
```

#### 创建和使用组件

在`components`目录下创建可复用组件：

```vue
<!-- components/ContactForm.vue -->
<template>
  <form @submit.prevent="handleSubmit">
    <!-- 表单内容 -->
  </form>
</template>

<script setup lang="ts">
// 组件逻辑
</script>
```

然后在页面中使用：

```vue
<!-- pages/contact.vue -->
<template>
  <div class="contact-page">
    <h1>联系我们</h1>
    <ContactForm />
  </div>
</template>

<script setup lang="ts">
import ContactForm from '@/components/ContactForm.vue'
</script>
```

#### API调用

使用项目中已有的API模块进行数据请求：

```typescript
import { getBanners } from '@/api/banner'

// 在组件中使用
const loadBanners = async () => {
  try {
    const banners = await getBanners()
    // 处理数据
  } catch (error) {
    console.error('获取轮播图失败:', error)
  }
}
```

## 6. 构建和部署

### 6.1 构建项目

#### 服务器渲染模式构建

```bash
npm run build
```

或使用yarn：

```bash
yarn build
```

构建产物将生成在`.output`目录中。

#### 静态生成模式构建

```bash
npm run generate
```

或使用yarn：

```bash
yarn generate
```

静态生成的文件将放在`.output/public`目录中。

### 6.2 部署方式

#### 6.2.1 服务器部署

1. 构建项目：

```bash
npm run build
```

2. 启动生产服务：

```bash
node .output/server/index.mjs
```

#### 6.2.2 静态网站部署

1. 生成静态文件：

```bash
npm run generate
```

2. 将`.output/public`目录中的所有文件部署到静态网站托管服务，如：
   - Nginx
   - Apache
   - Vercel
   - Netlify
   - GitHub Pages

#### 6.2.3 Docker部署

创建Dockerfile：

```dockerfile
# 使用Node.js官方镜像作为构建环境
FROM node:16-alpine as builder

# 设置工作目录
WORKDIR /app

# 复制package.json和package-lock.json
COPY package*.json ./

# 安装依赖
RUN npm ci

# 复制项目文件
COPY . .

# 构建项目
RUN npm run build

# 使用轻量级Node.js镜像作为运行环境
FROM node:16-alpine

# 设置工作目录
WORKDIR /app

# 从构建阶段复制构建产物
COPY --from=builder /app/.output /app/.output

# 暴露端口
EXPOSE 3000

# 启动服务
CMD ["node", ".output/server/index.mjs"]
```

构建和运行Docker容器：

```bash
docker build -t frontend-app .
docker run -p 3000:3000 frontend-app
```

## 7. 主要功能模块开发指南

### 7.1 轮播图功能

轮播图组件位于`components/Banner.vue`，使用Element Plus的Carousel组件实现。

**使用方法：**

```vue
<template>
  <Banner />
</template>

<script setup lang="ts">
import Banner from '@/components/Banner.vue'
</script>
```

轮播图组件会自动从API获取数据并渲染。

### 7.2 文章列表功能

**相关文件：**
- API模块：`api/articles.ts`
- 示例使用：

```typescript
import { getArticles } from '@/api/articles'

const articles = ref([])

const fetchArticles = async () => {
  try {
    articles.value = await getArticles()
  } catch (error) {
    console.error('获取文章失败:', error)
  }
}

onMounted(() => {
  fetchArticles()
})
```

### 7.3 案例展示功能

**相关文件：**
- API模块：`api/cases.ts`
- 示例使用：

```typescript
import { getCases } from '@/api/cases'

const cases = ref([])

const fetchCases = async () => {
  try {
    cases.value = await getCases()
  } catch (error) {
    console.error('获取案例失败:', error)
  }
}

onMounted(() => {
  fetchCases()
})
```

## 8. API调用规范

### 8.1 基础配置

API基础配置位于`api/config.ts`文件中，主要配置项包括：

- baseURL：API基础URL
- timeout：请求超时时间
- headers：默认请求头

### 8.2 请求封装

所有API请求通过`api/request.ts`中封装的方法发送，确保统一的错误处理和响应格式。

### 8.3 模块划分

API请求按功能模块划分到不同的文件中：

- `articles.ts`：文章相关API
- `banner.ts`：轮播图相关API
- `cases.ts`：案例相关API
- `services.ts`：服务相关API

### 8.4 错误处理

统一的错误处理逻辑位于请求拦截器中，会捕获并处理以下错误：

- 网络错误
- 401未授权
- 404未找到
- 500服务器错误

## 9. 性能优化建议

### 9.1 代码分割

Nuxt.js自动支持代码分割，但可以通过以下方式进一步优化：

- 使用动态导入大型组件
- 按需引入第三方库

### 9.2 图片优化

- 使用适当的图片格式（如WebP）
- 实现图片懒加载
- 为不同设备提供不同尺寸的图片

### 9.3 缓存策略

- 合理设置HTTP缓存头
- 利用Service Worker缓存静态资源
- 对频繁请求的数据使用客户端缓存

## 10. 常见问题及解决方案

### 10.1 API连接失败

**问题**：前端无法连接到后端API

**解决方案**：
- 检查`.env`文件中的`API_BASE_URL`配置是否正确
- 确保后端服务正在运行
- 检查网络连接和防火墙设置

### 10.2 页面加载缓慢

**问题**：页面加载时间较长

**解决方案**：
- 检查是否有大型图片未优化
- 减少初始加载的组件数量
- 实现懒加载和代码分割

### 10.3 跨域问题

**问题**：浏览器报跨域错误

**解决方案**：
- 确保后端已配置CORS中间件
- 开发环境可以使用Nuxt.js的代理功能

## 11. 开发最佳实践

### 11.1 组件设计

- 遵循单一职责原则
- 组件命名清晰，使用PascalCase
- 合理使用props和emits进行组件通信

### 11.2 TypeScript使用

- 为所有接口定义类型
- 避免使用`any`类型
- 为组件的props和emits添加类型声明

### 11.3 样式管理

- 使用scoped样式避免样式冲突
- 对于全局样式，使用BEM命名规范
- 避免使用内联样式

### 11.4 代码质量

- 遵循ESLint规则
- 使用Prettier保持代码格式一致
- 编写有意义的注释

## 12. 总结

本指南提供了前端展示网站的开发和部署流程，包括环境配置、项目结构、开发规范和部署方式。遵循本指南可以确保项目的开发效率和代码质量，同时顺利完成部署上线。